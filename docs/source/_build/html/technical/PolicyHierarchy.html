

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Policy Hierarchy &mdash; CitizenOne 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Federation" href="Federation.html" />
    <link rel="prev" title="Authentication" href="Authentication.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CitizenOne
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">The CitizenOne Platform</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tenants.html">Tenants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Organizations.html">Organizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Service Cards.html">Service Cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rules.html">Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Providers.html">Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Policies.html">Policies</a></li>
</ul>
<p class="caption"><span class="caption-text">Managing CitizenOne</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tenant Management.html">Tenant Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Organization Management.html">Organization Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Application Management.html">Application Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Service Card Management.html">Service Card Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rule Management.html">Rule Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Provider Management.html">Provider Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Policy Management.html">Policy Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Creating Service Cards.html">Adding a Service Card in Portal</a></li>
</ul>
<p class="caption"><span class="caption-text">Eeze</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Eeze.html">Accessing CitizenOne Service Cards</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="Authentication.html#multi-factor-authentication">Multi-factor Authentication</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Policy Hierarchy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-consent-used-to-work">How Consent Used to Work</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-consent-works-in-the-policy-hierarchy">How Consent Works in the Policy Hierarchy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#versioning">Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hierarchy-crawling">Hierarchy Crawling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tenant-level-policy">Tenant Level Policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#service-card-to-application-relationship">Service Card to Application Relationship</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Federation.html">Federation</a></li>
<li class="toctree-l1"><a class="reference internal" href="MFA Rule Evaluation.html">MFA Rule Evaluation</a></li>
</ul>
<p class="caption"><span class="caption-text">General Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CitizenOne</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Policy Hierarchy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Technical/PolicyHierarchy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="policy-hierarchy">
<span id="id1"></span><h1>Policy Hierarchy<a class="headerlink" href="#policy-hierarchy" title="Permalink to this headline">¶</a></h1>
<p>Policies Hierarchy refers to the new way in which we handle providing consent and rules evaluation at every level of a service hierarchy by attaching consent scopes, rules, and callbacks to a specific policy and version.</p>
<div class="section" id="how-consent-used-to-work">
<h2>How Consent Used to Work<a class="headerlink" href="#how-consent-used-to-work" title="Permalink to this headline">¶</a></h2>
<p>Prior to these changes consent scopes, rule evaluation and callbacks were each attached to specific applications. As a consequence of this design:</p>
<ul class="simple">
<li><p>Multiple service cards attached to the same application could not have different required consent scopes, and consenting to one resulted in consenting to them all.</p></li>
<li><p>Consent could not be handled at levels higher than the application. For example, Kingston requested that consent be handled on account registration rather than for each application.</p></li>
</ul>
</div>
<div class="section" id="how-consent-works-in-the-policy-hierarchy">
<h2>How Consent Works in the Policy Hierarchy<a class="headerlink" href="#how-consent-works-in-the-policy-hierarchy" title="Permalink to this headline">¶</a></h2>
<p>Consent scopes, rules and callbacks are attached to a specific policy and version. Then the policy can be attached to a tenant, an organization, an application or a service card. This allows a much more flexible approach to consent and rule evaluation than before.</p>
<div class="section" id="versioning">
<h3>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h3>
<p>By attaching consent to policy and version this means that if the particular consent scopes required for a policy change, a new policy version will be created and users will be asked to consent to the new policy version, including the new consent scopes. Further users who have not consented to the new policy version yet will not have automatically count as having consented to the new consent scopes. This means that third parties will only ever have access to what a user has explicitly consented to even if changes have been made after consent.</p>
</div>
<div class="section" id="hierarchy-crawling">
<h3>Hierarchy Crawling<a class="headerlink" href="#hierarchy-crawling" title="Permalink to this headline">¶</a></h3>
<p>Since multiple levels of entities can have policies, when a user is adding a service card we are concerned with more than just a particular service cards consent scopes and rules. Instead the logic will crawl the service card hierarchy to find all relevant policies. First it retrieves the policy for the service card, then it’s application(s), then the organization it belongs to. It will retrieve all relevant consent scopes and rules for each policy returned in the hierarchy and ask the user to consent to each policy and the amalgamation of the consent scopes.</p>
</div>
<div class="section" id="tenant-level-policy">
<h3>Tenant Level Policy<a class="headerlink" href="#tenant-level-policy" title="Permalink to this headline">¶</a></h3>
<p>We can now attach policies directly to a tenant. This allows us to have a policy in place that users need to consent to when creating an account. This further enables us to have a list of service cards with no other policies in their hierarchy that are auto-consented when the account is created and immediately displayed on the users dashboard without any further input required from the user.</p>
</div>
</div>
<div class="section" id="service-card-to-application-relationship">
<h2>Service Card to Application Relationship<a class="headerlink" href="#service-card-to-application-relationship" title="Permalink to this headline">¶</a></h2>
<p>Another feature that was changed during the policy hierarchy implementation was the relationship between service cards and applications. In the past each application could have multiple service cards but a service card could only belong to one specific application. This proved problematic when trying to deal with service card tasks that were logically grouped together but used different applications. To fix this the relationship was changed to allow service cards to belong to multiple applications while maintaining that each application can have multiple service cards.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Federation.html" class="btn btn-neutral float-right" title="Federation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Authentication.html" class="btn btn-neutral float-left" title="Authentication" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Vivvo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>